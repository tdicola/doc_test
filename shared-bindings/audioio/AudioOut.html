

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>AudioOut -- Output an analog audio signal &mdash; Adafruit CircuitPython 0.0.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Adafruit CircuitPython 0.0.0 documentation" href="../../index.html"/>
        <link rel="up" title="audioio --- Support for audio input and output" href="__init__.html"/>
        <link rel="next" title="bitbangio --- Digital protocols implemented by the CPU" href="../bitbangio/__init__.html"/>
        <link rel="prev" title="audioio --- Support for audio input and output" href="__init__.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Adafruit CircuitPython
          

          
          </a>

          
            
            
              <div class="version">
                0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Core Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#support-matrix">Support Matrix</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#modules">Modules</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../analogio/__init__.html"><code class="docutils literal"><span class="pre">analogio</span></code> --- Analog hardware support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../audiobusio/__init__.html"><code class="docutils literal"><span class="pre">audiobusio</span></code> --- Support for audio input and output over digital bus</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="__init__.html"><code class="docutils literal"><span class="pre">audioio</span></code> --- Support for audio input and output</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#"><code class="docutils literal"><span class="pre">AudioOut</span></code> -- Output an analog audio signal</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../bitbangio/__init__.html"><code class="docutils literal"><span class="pre">bitbangio</span></code> --- Digital protocols implemented by the CPU</a></li>
<li class="toctree-l3"><a class="reference internal" href="../board/__init__.html"><code class="docutils literal"><span class="pre">board</span></code> --- Board specific pin names</a></li>
<li class="toctree-l3"><a class="reference internal" href="../busio/__init__.html"><code class="docutils literal"><span class="pre">busio</span></code> --- Hardware accelerated behavior</a></li>
<li class="toctree-l3"><a class="reference internal" href="../digitalio/__init__.html"><code class="docutils literal"><span class="pre">digitalio</span></code> --- Basic digital pin support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../microcontroller/__init__.html"><code class="docutils literal"><span class="pre">microcontroller</span></code> --- Pin references and core functionality</a></li>
<li class="toctree-l3"><a class="reference internal" href="../multiterminal/__init__.html"><code class="docutils literal"><span class="pre">multiterminal</span></code> --- Manage additional terminal sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="../neopixel_write/__init__.html"><code class="docutils literal"><span class="pre">neopixel_write</span></code> --- Low-level neopixel implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../os/__init__.html"><code class="docutils literal"><span class="pre">os</span></code> --- functions that an OS normally provides</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pulseio/__init__.html"><code class="docutils literal"><span class="pre">pulseio</span></code> --- Support for pulse based protocols</a></li>
<li class="toctree-l3"><a class="reference internal" href="../random/__init__.html"><code class="docutils literal"><span class="pre">random</span></code> --- psuedo-random numbers and choices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../storage/__init__.html"><code class="docutils literal"><span class="pre">storage</span></code> --- storage management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../time/__init__.html"><code class="docutils literal"><span class="pre">time</span></code> --- time and timing related functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../touchio/__init__.html"><code class="docutils literal"><span class="pre">touchio</span></code> --- Touch related IO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uheap/__init__.html"><code class="docutils literal"><span class="pre">uheap</span></code> --- Heap size analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usb_hid/__init__.html"><code class="docutils literal"><span class="pre">usb_hid</span></code> --- USB Human Interface Device</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ustack/__init__.html"><code class="docutils literal"><span class="pre">ustack</span></code> --- Stack information and analysis</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/drivers.html">Additional Libraries on GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/common_hal.html">Adding <code class="docutils literal"><span class="pre">*io</span></code> support to other ports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/design_guide.html">Design Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/supported_ports.html">Supported Ports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/library/index.html">MicroPython libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README.html">Adafruit CircuitPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CONTRIBUTING.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CODE_OF_CONDUCT.html">Contributor Covenant Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">MicroPython &amp; CircuitPython license information</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Adafruit CircuitPython</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Core Modules</a> &raquo;</li>
        
          <li><a href="__init__.html"><code class="docutils literal"><span class="pre">audioio</span></code> --- Support for audio input and output</a> &raquo;</li>
        
      <li><code class="docutils literal"><span class="pre">AudioOut</span></code> -- Output an analog audio signal</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/shared-bindings/audioio/AudioOut.c.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="audioout-output-an-analog-audio-signal">
<h1><a class="reference internal" href="#audioio.AudioOut" title="audioio.AudioOut"><code class="xref py py-class docutils literal"><span class="pre">AudioOut</span></code></a> -- Output an analog audio signal<a class="headerlink" href="#audioout-output-an-analog-audio-signal" title="Permalink to this headline">¶</a></h1>
<p>AudioOut can be used to output an analog audio signal on a given pin.</p>
<dl class="class">
<dt id="audioio.AudioOut">
<em class="property">class </em><code class="descclassname">audioio.</code><code class="descname">AudioOut</code><span class="sig-paren">(</span><em>pin</em>, <em>sample_source</em><span class="sig-paren">)</span><a class="headerlink" href="#audioio.AudioOut" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a AudioOut object associated with the given pin. This allows you to
play audio signals out on the given pin. Sample_source must be a <a class="reference external" href="https://docs.python.org/3/glossary.html#term-bytes-like-object">bytes-like object</a>.</p>
<p>The sample itself should consist of 16 bit samples and be mono.
Microcontrollers with a lower output resolution will use the highest order
bits to output. For example, the SAMD21 has a 10 bit DAC that ignores the
lowest 6 bits when playing 16 bit samples.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pin</strong> (<a class="reference internal" href="../microcontroller/Pin.html#microcontroller.Pin" title="microcontroller.Pin"><em>Pin</em></a>) -- The pin to output to</li>
<li><strong>sample_source</strong> (<em>bytes-like</em>) -- The source of the sample</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Simple 8ksps 440 Hz sin wave:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">audioio</span>
<span class="kn">import</span> <span class="nn">board</span>
<span class="kn">import</span> <span class="nn">array</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">math</span>

<span class="c1"># Generate one period of sine wav.</span>
<span class="n">length</span> <span class="o">=</span> <span class="mi">8000</span> <span class="o">//</span> <span class="mi">440</span>
<span class="n">sine_wave</span> <span class="o">=</span> <span class="n">array</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="s2">&quot;H&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">length</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">length</span><span class="p">):</span>
    <span class="n">sine_wave</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">i</span> <span class="o">/</span> <span class="mi">18</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">**</span> <span class="mi">15</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">**</span> <span class="mi">15</span><span class="p">)</span>

<span class="n">sample</span> <span class="o">=</span> <span class="n">audioio</span><span class="o">.</span><span class="n">AudioOut</span><span class="p">(</span><span class="n">board</span><span class="o">.</span><span class="n">SPEAKER</span><span class="p">,</span> <span class="n">sine_wave</span><span class="p">)</span>
<span class="n">sample</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="n">loop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">sample</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</pre></div>
</div>
<p>Playing a wave file from flash:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">board</span>
<span class="kn">import</span> <span class="nn">audioio</span>
<span class="kn">import</span> <span class="nn">digitalio</span>

<span class="c1"># Required for CircuitPlayground Express</span>
<span class="n">speaker_enable</span> <span class="o">=</span> <span class="n">digitalio</span><span class="o">.</span><span class="n">DigitalInOut</span><span class="p">(</span><span class="n">board</span><span class="o">.</span><span class="n">SPEAKER_ENABLE</span><span class="p">)</span>
<span class="n">speaker_enable</span><span class="o">.</span><span class="n">switch_to_output</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;cplay-5.1-16bit-16khz.wav&quot;</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">audioio</span><span class="o">.</span><span class="n">AudioOut</span><span class="p">(</span><span class="n">board</span><span class="o">.</span><span class="n">A0</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;playing&quot;</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">play</span><span class="p">()</span>
<span class="k">while</span> <span class="n">a</span><span class="o">.</span><span class="n">playing</span><span class="p">:</span>
  <span class="k">pass</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;stopped&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="audioio.AudioOut.deinit">
<code class="descname">deinit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#audioio.AudioOut.deinit" title="Permalink to this definition">¶</a></dt>
<dd><p>Deinitialises the PWMOut and releases any hardware resources for reuse.</p>
</dd></dl>

<dl class="method">
<dt id="audioio.AudioOut.__enter__">
<code class="descname">__enter__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#audioio.AudioOut.__enter__" title="Permalink to this definition">¶</a></dt>
<dd><p>No-op used by Context Managers.</p>
</dd></dl>

<dl class="method">
<dt id="audioio.AudioOut.__exit__">
<code class="descname">__exit__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#audioio.AudioOut.__exit__" title="Permalink to this definition">¶</a></dt>
<dd><p>Automatically deinitializes the hardware when exiting a context. See
<a class="reference internal" href="../../docs/design_guide.html#lifetime-and-contextmanagers"><span class="std std-ref">Lifetime and ContextManagers</span></a> for more info.</p>
</dd></dl>

<dl class="method">
<dt id="audioio.AudioOut.play">
<code class="descname">play</code><span class="sig-paren">(</span><em>loop=False</em><span class="sig-paren">)</span><a class="headerlink" href="#audioio.AudioOut.play" title="Permalink to this definition">¶</a></dt>
<dd><p>Plays the sample once when loop=False and continuously when loop=True.
Does not block. Use <a class="reference internal" href="#audioio.AudioOut.playing" title="audioio.AudioOut.playing"><code class="xref any py py-attr docutils literal"><span class="pre">playing</span></code></a> to block.</p>
</dd></dl>

<dl class="method">
<dt id="audioio.AudioOut.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#audioio.AudioOut.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stops playback of this sample. If another sample is playing instead, it
won't be stopped.</p>
</dd></dl>

<dl class="attribute">
<dt id="audioio.AudioOut.playing">
<code class="descname">playing</code><a class="headerlink" href="#audioio.AudioOut.playing" title="Permalink to this definition">¶</a></dt>
<dd><p>True when the audio sample is being output.</p>
</dd></dl>

<dl class="attribute">
<dt id="audioio.AudioOut.frequency">
<code class="descname">frequency</code><a class="headerlink" href="#audioio.AudioOut.frequency" title="Permalink to this definition">¶</a></dt>
<dd><p>32 bit value that dictates how quickly samples are loaded into the DAC
in Hertz (cycles per second). When the sample is looped, this can change
the pitch output without changing the underlying sample.</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../bitbangio/__init__.html" class="btn btn-neutral float-right" title="bitbangio --- Digital protocols implemented by the CPU" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="__init__.html" class="btn btn-neutral" title="audioio --- Support for audio input and output" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014-2017, MicroPython &amp; CircuitPython contributors (https://github.com/adafruit/circuitpython/graphs/contributors).
      Last updated on 17 Aug 2017.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>