

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2. Getting a MicroPython REPL prompt &mdash; Adafruit CircuitPython 0.0.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="Adafruit CircuitPython 0.0.0 documentation" href="../../../index.html"/>
        <link rel="up" title="MicroPython tutorial for ESP8266" href="index.html"/>
        <link rel="next" title="3. The internal filesystem" href="filesystem.html"/>
        <link rel="prev" title="1. Getting started with MicroPython on the ESP8266" href="intro.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> Adafruit CircuitPython
          

          
          </a>

          
            
            
              <div class="version">
                0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../shared-bindings/index.html">Core Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../drivers.html">Additional Libraries on GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../common_hal.html">Adding <code class="docutils literal"><span class="pre">*io</span></code> support to other ports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../design_guide.html">Design Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../supported_ports.html">Supported Ports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../library/index.html">MicroPython libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../README.html">Adafruit CircuitPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../CONTRIBUTING.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../CODE_OF_CONDUCT.html">Contributor Covenant Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../license.html">MicroPython &amp; CircuitPython license information</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Adafruit CircuitPython</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../supported_ports.html">Supported Ports</a> &raquo;</li>
        
          <li><a href="../index.html">ESP8266</a> &raquo;</li>
        
          <li><a href="index.html">MicroPython tutorial for ESP8266</a> &raquo;</li>
        
      <li>2. Getting a MicroPython REPL prompt</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/docs/esp8266/tutorial/repl.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="getting-a-micropython-repl-prompt">
<h1>2. Getting a MicroPython REPL prompt<a class="headerlink" href="#getting-a-micropython-repl-prompt" title="Permalink to this headline">¶</a></h1>
<p>REPL stands for Read Evaluate Print Loop, and is the name given to the
interactive MicroPython prompt that you can access on the ESP8266.  Using the
REPL is by far the easiest way to test out your code and run commands.</p>
<p>There are two ways to access the REPL: either via a wired connection through the
UART serial port, or via WiFi.</p>
<div class="section" id="repl-over-the-serial-port">
<h2>2.1. REPL over the serial port<a class="headerlink" href="#repl-over-the-serial-port" title="Permalink to this headline">¶</a></h2>
<p>The REPL is always available on the UART0 serial peripheral, which is connected
to the pins GPIO1 for TX and GPIO3 for RX.  The baudrate of the REPL is 115200.
If your board has a USB-serial convertor on it then you should be able to access
the REPL directly from your PC.  Otherwise you will need to have a way of
communicating with the UART.</p>
<p>To access the prompt over USB-serial you need to use a terminal emulator program.
On Windows TeraTerm is a good choice, on Mac you can use the built-in screen
program, and Linux has picocom and minicom.  Of course, there are many other
terminal programs that will work, so pick your favourite!</p>
<p>For example, on Linux you can try running:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">picocom</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyUSB0</span> <span class="o">-</span><span class="n">b115200</span>
</pre></div>
</div>
<p>Once you have made the connection over the serial port you can test if it is
working by hitting enter a few times.  You should see the Python REPL prompt,
indicated by <code class="docutils literal"><span class="pre">&gt;&gt;&gt;</span></code>.</p>
</div>
<div class="section" id="webrepl-a-prompt-over-wifi">
<h2>2.2. WebREPL - a prompt over WiFi<a class="headerlink" href="#webrepl-a-prompt-over-wifi" title="Permalink to this headline">¶</a></h2>
<p>WebREPL allows you to use the Python prompt over WiFi, connecting through a
browser. The latest versions of Firefox and Chrome are supported.</p>
<p>For your convenience, WebREPL client is hosted at
<a class="reference external" href="http://micropython.org/webrepl">http://micropython.org/webrepl</a> . Alternatively, you can install it
locally from the the GitHub repository
<a class="reference external" href="https://github.com/micropython/webrepl">https://github.com/micropython/webrepl</a> .</p>
<p>Before connecting to WebREPL, you should set a password and enable it via
a normal serial connection. Initial versions of MicroPython for ESP8266
came with WebREPL automatically enabled on the boot and with the
ability to set a password via WiFi on the first connection, but as WebREPL
was becoming more widely known and popular, the initial setup has switched
to a wired connection for improved security:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">webrepl_setup</span>
</pre></div>
</div>
<p>Follow the on-screen instructions and prompts. To make any changes active,
you will need to reboot your device.</p>
<p>To use WebREPL connect your computer to the ESP8266’s access point
(MicroPython-xxxxxx, see the previous section about this).  If you have
already reconfigured your ESP8266 to connect to a router then you can
skip this part.</p>
<p>Once you are on the same network as the ESP8266 you click the “Connect” button
(if you are connecting via a router then you may need to change the IP address,
by default the IP address is correct when connected to the ESP8266’s access
point).  If the connection succeeds then you should see a password prompt.</p>
<p>Once you type the password configured at the setup step above, press Enter once
more and you should get a prompt looking like <code class="docutils literal"><span class="pre">&gt;&gt;&gt;</span></code>.  You can now start
typing Python commands!</p>
</div>
<div class="section" id="using-the-repl">
<h2>2.3. Using the REPL<a class="headerlink" href="#using-the-repl" title="Permalink to this headline">¶</a></h2>
<p>Once you have a prompt you can start experimenting!  Anything you type at the
prompt will be executed after you press the Enter key.  MicroPython will run
the code that you enter and print the result (if there is one).  If there is an
error with the text that you enter then an error message is printed.</p>
<p>Try typing the following at the prompt:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;hello esp8266!&#39;</span><span class="p">)</span>
<span class="go">hello esp8266!</span>
</pre></div>
</div>
<p>Note that you shouldn’t type the <code class="docutils literal"><span class="pre">&gt;&gt;&gt;</span></code> arrows, they are there to indicate that
you should type the text after it at the prompt.  And then the line following is
what the device should respond with.  In the end, once you have entered the text
<code class="docutils literal"><span class="pre">print(&quot;hello</span> <span class="pre">esp8266!&quot;)</span></code> and pressed the Enter key, the output on your screen
should look exactly like it does above.</p>
<p>If you already know some python you can now try some basic commands here.   For
example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">1</span> <span class="o">/</span> <span class="mi">2</span>
<span class="go">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">12</span><span class="o">**</span><span class="mi">34</span>
<span class="go">4922235242952026704037113243122008064</span>
</pre></div>
</div>
<p>If your board has an LED attached to GPIO2 (the ESP-12 modules do) then you can
turn it on and off using the following code:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">machine</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pin</span> <span class="o">=</span> <span class="n">machine</span><span class="o">.</span><span class="n">Pin</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">machine</span><span class="o">.</span><span class="n">Pin</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pin</span><span class="o">.</span><span class="n">on</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pin</span><span class="o">.</span><span class="n">off</span><span class="p">()</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal"><span class="pre">on</span></code> method of a Pin might turn the LED off and <code class="docutils literal"><span class="pre">off</span></code> might
turn it on (or vice versa), depending on how the LED is wired on your board.
To resolve this, machine.Signal class is provided.</p>
<div class="section" id="line-editing">
<h3>2.3.1. Line editing<a class="headerlink" href="#line-editing" title="Permalink to this headline">¶</a></h3>
<p>You can edit the current line that you are entering using the left and right
arrow keys to move the cursor, as well as the delete and backspace keys.  Also,
pressing Home or ctrl-A moves the cursor to the start of the line, and pressing
End or ctrl-E moves to the end of the line.</p>
</div>
<div class="section" id="input-history">
<h3>2.3.2. Input history<a class="headerlink" href="#input-history" title="Permalink to this headline">¶</a></h3>
<p>The REPL remembers a certain number of previous lines of text that you entered
(up to 8 on the ESP8266).  To recall previous lines use the up and down arrow
keys.</p>
</div>
<div class="section" id="tab-completion">
<h3>2.3.3. Tab completion<a class="headerlink" href="#tab-completion" title="Permalink to this headline">¶</a></h3>
<p>Pressing the Tab key will do an auto-completion of the current word that you are
entering.  This can be very useful to find out functions and methods that a
module or object has.  Try it out by typing “ma” and then pressing Tab.  It
should complete to “machine” (assuming you imported machine in the above
example).  Then type “.” and press Tab again to see a list of all the functions
that the machine module has.</p>
</div>
<div class="section" id="line-continuation-and-auto-indent">
<h3>2.3.4. Line continuation and auto-indent<a class="headerlink" href="#line-continuation-and-auto-indent" title="Permalink to this headline">¶</a></h3>
<p>Certain things that you type will need “continuing”, that is, will need more
lines of text to make a proper Python statement.  In this case the prompt will
change to <code class="docutils literal"><span class="pre">...</span></code> and the cursor will auto-indent the correct amount so you can
start typing the next line straight away.  Try this by defining the following
function:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">toggle</span><span class="p">(</span><span class="n">p</span><span class="p">):</span>
<span class="gp">... </span>   <span class="n">p</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="ow">not</span> <span class="n">p</span><span class="o">.</span><span class="n">value</span><span class="p">())</span>
<span class="gp">...</span>
<span class="gp">...</span>
<span class="gp">...</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>In the above, you needed to press the Enter key three times in a row to finish
the compound statement (that’s the three lines with just dots on them).  The
other way to finish a compound statement is to press backspace to get to the
start of the line, then press the Enter key.  (If you did something wrong and
want to escape the continuation mode then press ctrl-C; all lines will be
ignored.)</p>
<p>The function you just defined allows you to toggle a pin.  The pin object you
created earlier should still exist (recreate it if it doesn’t) and you can
toggle the LED using:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">toggle</span><span class="p">(</span><span class="n">pin</span><span class="p">)</span>
</pre></div>
</div>
<p>Let’s now toggle the LED in a loop (if you don’t have an LED then you can just
print some text instead of calling toggle, to see the effect):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">toggle</span><span class="p">(</span><span class="n">pin</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep_ms</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">...</span>
<span class="gp">...</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>This will toggle the LED at 1Hz (half a second on, half a second off).  To stop
the toggling press ctrl-C, which will raise a KeyboardInterrupt exception and
break out of the loop.</p>
<p>The time module provides some useful functions for making delays and doing
timing.  Use tab completion to find out what they are and play around with them!</p>
</div>
<div class="section" id="paste-mode">
<h3>2.3.5. Paste mode<a class="headerlink" href="#paste-mode" title="Permalink to this headline">¶</a></h3>
<p>Pressing ctrl-E will enter a special paste mode.  This allows you to copy and
paste a chunk of text into the REPL.  If you press ctrl-E you will see the
paste-mode prompt:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">paste</span> <span class="n">mode</span><span class="p">;</span> <span class="n">Ctrl</span><span class="o">-</span><span class="n">C</span> <span class="n">to</span> <span class="n">cancel</span><span class="p">,</span> <span class="n">Ctrl</span><span class="o">-</span><span class="n">D</span> <span class="n">to</span> <span class="n">finish</span>
<span class="o">===</span>
</pre></div>
</div>
<p>You can then paste (or type) your text in.  Note that none of the special keys
or commands work in paste mode (eg Tab or backspace), they are just accepted
as-is.  Press ctrl-D to finish entering the text and execute it.</p>
</div>
<div class="section" id="other-control-commands">
<h3>2.3.6. Other control commands<a class="headerlink" href="#other-control-commands" title="Permalink to this headline">¶</a></h3>
<p>There are four other control commands:</p>
<ul class="simple">
<li>Ctrl-A on a blank line will enter raw REPL mode.  This is like a permanent
paste mode, except that characters are not echoed back.</li>
<li>Ctrl-B on a blank like goes to normal REPL mode.</li>
<li>Ctrl-C cancels any input, or interrupts the currently running code.</li>
<li>Ctrl-D on a blank line will do a soft reset.</li>
</ul>
<p>Note that ctrl-A and ctrl-D do not work with WebREPL.</p>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="filesystem.html" class="btn btn-neutral float-right" title="3. The internal filesystem" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="intro.html" class="btn btn-neutral" title="1. Getting started with MicroPython on the ESP8266" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014-2017, MicroPython &amp; CircuitPython contributors (https://github.com/adafruit/circuitpython/graphs/contributors).
      Last updated on 17 Aug 2017.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'0.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>