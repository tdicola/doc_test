

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>esp — functions related to the ESP8266 &mdash; Adafruit CircuitPython 0.0.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Adafruit CircuitPython 0.0.0 documentation" href="../../index.html"/>
        <link rel="up" title="MicroPython libraries" href="index.html"/>
        <link rel="next" title="Adafruit CircuitPython" href="../../README.html"/>
        <link rel="prev" title="wipy – WiPy specific features" href="wipy.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Adafruit CircuitPython
          

          
          </a>

          
            
            
              <div class="version">
                0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../shared-bindings/index.html">Core Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../drivers.html">Additional Libraries on GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common_hal.html">Adding <code class="docutils literal"><span class="pre">*io</span></code> support to other ports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design_guide.html">Design Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../supported_ports.html">Supported Ports</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">MicroPython libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README.html">Adafruit CircuitPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CONTRIBUTING.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CODE_OF_CONDUCT.html">Contributor Covenant Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">MicroPython &amp; CircuitPython license information</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Adafruit CircuitPython</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">MicroPython libraries</a> &raquo;</li>
        
      <li><code class="docutils literal"><span class="pre">esp</span></code> — functions related to the ESP8266</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/docs/library/esp.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-esp">
<span id="esp-functions-related-to-the-esp8266"></span><h1><a class="reference internal" href="#module-esp" title="esp: functions related to the ESP8266"><code class="xref py py-mod docutils literal"><span class="pre">esp</span></code></a> — functions related to the ESP8266<a class="headerlink" href="#module-esp" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal"><span class="pre">esp</span></code> module contains specific functions related to the ESP8266 module.</p>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="esp.sleep_type">
<code class="descclassname">esp.</code><code class="descname">sleep_type</code><span class="sig-paren">(</span><span class="optional">[</span><em>sleep_type</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#esp.sleep_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Get or set the sleep type.</p>
<p>If the <code class="docutils literal"><span class="pre">sleep_type</span></code> parameter is provided, sets the sleep type to its
value. If the function is called without parameters, returns the current
sleep type.</p>
<p>The possible sleep types are defined as constants:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">SLEEP_NONE</span></code> – all functions enabled,</li>
<li><code class="docutils literal"><span class="pre">SLEEP_MODEM</span></code> – modem sleep, shuts down the WiFi Modem circuit.</li>
<li><code class="docutils literal"><span class="pre">SLEEP_LIGHT</span></code> – light sleep, shuts down the WiFi Modem circuit
and suspends the processor periodically.</li>
</ul>
</div></blockquote>
<p>The system enters the set sleep mode automatically when possible.</p>
</dd></dl>

<dl class="function">
<dt id="esp.deepsleep">
<code class="descclassname">esp.</code><code class="descname">deepsleep</code><span class="sig-paren">(</span><em>time=0</em><span class="sig-paren">)</span><a class="headerlink" href="#esp.deepsleep" title="Permalink to this definition">¶</a></dt>
<dd><p>Enter deep sleep.</p>
<p>The whole module powers down, except for the RTC clock circuit, which can
be used to restart the module after the specified time if the pin 16 is
connected to the reset pin. Otherwise the module will sleep until manually
reset.</p>
</dd></dl>

<dl class="function">
<dt id="esp.flash_id">
<code class="descclassname">esp.</code><code class="descname">flash_id</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#esp.flash_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the device ID of the flash memory.</p>
</dd></dl>

<dl class="function">
<dt id="esp.flash_read">
<code class="descclassname">esp.</code><code class="descname">flash_read</code><span class="sig-paren">(</span><em>byte_offset</em>, <em>length_or_buffer</em><span class="sig-paren">)</span><a class="headerlink" href="#esp.flash_read" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="esp.flash_write">
<code class="descclassname">esp.</code><code class="descname">flash_write</code><span class="sig-paren">(</span><em>byte_offset</em>, <em>bytes</em><span class="sig-paren">)</span><a class="headerlink" href="#esp.flash_write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="esp.flash_erase">
<code class="descclassname">esp.</code><code class="descname">flash_erase</code><span class="sig-paren">(</span><em>sector_no</em><span class="sig-paren">)</span><a class="headerlink" href="#esp.flash_erase" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="esp.set_native_code_location">
<code class="descclassname">esp.</code><code class="descname">set_native_code_location</code><span class="sig-paren">(</span><em>start</em>, <em>length</em><span class="sig-paren">)</span><a class="headerlink" href="#esp.set_native_code_location" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the location that native code will be placed for execution after it is
compiled.  Native code is emitted when the <code class="docutils literal"><span class="pre">&#64;micropython.native</span></code>,
<code class="docutils literal"><span class="pre">&#64;micropython.viper</span></code> and <code class="docutils literal"><span class="pre">&#64;micropython.asm_xtensa</span></code> decorators are applied
to a function.  The ESP8266 must execute code from either iRAM or the lower
1MByte of flash (which is memory mapped), and this function controls the
location.</p>
<p>If <a class="reference internal" href="machine.I2C.html#machine.I2C.start" title="machine.I2C.start"><code class="xref any py py-meth docutils literal"><span class="pre">start</span></code></a> and <code class="xref any docutils literal"><span class="pre">length</span></code> are both <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><code class="xref any docutils literal"><span class="pre">None</span></code></a> then the native code location is
set to the unused portion of memory at the end of the iRAM1 region.  The
size of this unused portion depends on the firmware and is typically quite
small (around 500 bytes), and is enough to store a few very small
functions.  The advantage of using this iRAM1 region is that it does not
get worn out by writing to it.</p>
<p>If neither <a class="reference internal" href="machine.I2C.html#machine.I2C.start" title="machine.I2C.start"><code class="xref any py py-meth docutils literal"><span class="pre">start</span></code></a> nor <code class="xref any docutils literal"><span class="pre">length</span></code> are <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><code class="xref any docutils literal"><span class="pre">None</span></code></a> then they should be integers.
<a class="reference internal" href="machine.I2C.html#machine.I2C.start" title="machine.I2C.start"><code class="xref any py py-meth docutils literal"><span class="pre">start</span></code></a> should specify the byte offset from the beginning of the flash at
which native code should be stored.  <code class="xref any docutils literal"><span class="pre">length</span></code> specifies how many bytes of
flash from <a class="reference internal" href="machine.I2C.html#machine.I2C.start" title="machine.I2C.start"><code class="xref any py py-meth docutils literal"><span class="pre">start</span></code></a> can be used to store native code.  <a class="reference internal" href="machine.I2C.html#machine.I2C.start" title="machine.I2C.start"><code class="xref any py py-meth docutils literal"><span class="pre">start</span></code></a> and <code class="xref any docutils literal"><span class="pre">length</span></code>
should be multiples of the sector size (being 4096 bytes).  The flash will
be automatically erased before writing to it so be sure to use a region of
flash that is not otherwise used, for example by the firmware or the
filesystem.</p>
<p>When using the flash to store native code <code class="xref any docutils literal"><span class="pre">start+length</span></code> must be less
than or equal to 1MByte.  Note that the flash can be worn out if repeated
erasures (and writes) are made so use this feature sparingly.
In particular, native code needs to be recompiled and rewritten to flash
on each boot (including wake from deepsleep).</p>
<p>In both cases above, using iRAM1 or flash, if there is no more room left
in the specified region then the use of a native decorator on a function
will lead to <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#MemoryError" title="(in Python v3.6)"><code class="xref any docutils literal"><span class="pre">MemoryError</span></code></a> exception being raised during compilation of
that function.</p>
</dd></dl>

</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../README.html" class="btn btn-neutral float-right" title="Adafruit CircuitPython" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="wipy.html" class="btn btn-neutral" title="wipy – WiPy specific features" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014-2017, MicroPython &amp; CircuitPython contributors (https://github.com/adafruit/circuitpython/graphs/contributors).
      Last updated on 17 Aug 2017.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>